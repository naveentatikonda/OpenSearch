---
"knn stats basic test":

  - do:
      knn.stats:

  - match: cluster_name
  - match: timed_out
  - match: circuit_breaker_triggered
  - match: { nodes.0.miss_count:                   0 }
  - match: { nodes.0.graph_memory_usage_percentage: 0 }
  - match: { nodes.0.graph_query_requests:         0 }
  - match: { nodes.0.graph_memory_usage:         0 }
  - is_false: nodes.0.cache_capacity_reached
  - match: { nodes.0.graph_index_requests:       0 }
  - match: { nodes.0.load_exception_count:         0 }
  - match: { nodes.0.load_success_count:           0 }
  - match: { nodes.0.eviction_count:             0 }
  - match: { nodes.0.script_query_errors:        0 }
  - match: { nodes.0.script_compilations:        0 }
  - match: { nodes.0.script_query_requests:      0 }
  - match: { nodes.0.graph_query_errors:         0 }
  - match: { nodes.0.hit_count:                    0 }
  - match: { nodes.0.graph_index_errors:         0 }
  - match: { nodes.0.knn_query_requests:           0 }
  - match: { nodes.0.script_compilation_errors:  0 }
